function toggleSettings(e){e?($("#additonalOptions").css("pointer-events","none"),$("#additonalOptions").css("opacity",".4")):($("#additonalOptions").css("pointer-events",""),$("#additonalOptions").css("opacity","1"))}$(document).ready(function(){$("#apiResetForm").submit(function(e){return api.reset().success(function(e){user.api_key=e.data,successFlash(e.message),$("#api_key").val(user.api_key)}).error(function(e){errorFlash(e.message)}),!1}),$("#settingsForm").submit(function(e){return $.post("/settings",$(this).serialize()).done(function(e){successFlash(e.message)}).fail(function(e){errorFlash(e.responseJSON.message)}),!1});var e=localStorage.getItem("gophish.use_map");$("#use_map").prop("checked",JSON.parse(e)),$("#use_map").on("change",function(){localStorage.setItem("gophish.use_map",JSON.stringify(this.checked))});var s=localStorage.getItem("gophish.hide_table");toggleSettings("false"==s),$("#hide_table").prop("checked",JSON.parse(s)),$("#hide_table").on("change",function(){localStorage.setItem("gophish.hide_table",JSON.stringify(this.checked)),toggleSettings("false"==JSON.stringify(this.checked))});var o=localStorage.getItem("gophish.show_scheduled");$("#show_scheduled").prop("checked",JSON.parse(o)),$("#show_scheduled").on("change",function(){localStorage.setItem("gophish.show_scheduled",JSON.stringify(this.checked))});var t=localStorage.getItem("gophish.show_sending");$("#show_sending").prop("checked",JSON.parse(t)),$("#show_sending").on("change",function(){localStorage.setItem("gophish.show_sending",JSON.stringify(this.checked))});var i=localStorage.getItem("gophish.show_email_opened");$("#show_email_opened").prop("checked",JSON.parse(i)),$("#show_email_opened").on("change",function(){localStorage.setItem("gophish.show_email_opened",JSON.stringify(this.checked))});var a=localStorage.getItem("gophish.show_clicked_link");$("#show_clicked_link").prop("checked",JSON.parse(a)),$("#show_clicked_link").on("change",function(){localStorage.setItem("gophish.show_clicked_link",JSON.stringify(this.checked))});var h=localStorage.getItem("gophish.show_submitted_data");$("#show_submitted_data").prop("checked",JSON.parse(h)),$("#show_submitted_data").on("change",function(){localStorage.setItem("gophish.show_submitted_data",JSON.stringify(this.checked))});var c=localStorage.getItem("gophish.show_error");$("#show_error").prop("checked",JSON.parse(c)),$("#show_error").on("change",function(){localStorage.setItem("gophish.show_error",JSON.stringify(this.checked))})});
